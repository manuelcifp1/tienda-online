🛠️ Estructura y organización
✅ Se reorganizaron los controladores (AdminController, PedidoController, etc.) para llamar a métodos del modelo correctamente.

✅ Se revisaron y corrigieron métodos en los modelos Producto, Pedido, Usuario, y Carrito.

✅ Se eliminó DbTestController.php (ya no era necesario).

✅ Se normalizó el uso de EmptyModel moviéndolo al espacio correcto (App\Models).

🔄 Rutas y sistema de enrutamiento
✅ Se eliminaron rutas antiguas y se unificaron usando rutas limpias como /productos en vez de /tienda-online/public/productos.

✅ Se ajustó el archivo .htaccess para permitir URLs limpias sin index.php.

✅ Se actualizó Router.php para soportar redirecciones desde /index.php/ruta a /ruta.

✅ Se eliminó el index.php de la raíz y se estableció la redirección automática a /public.

🧑‍💻 Carrito de compras
✅ Se implementó un sistema dual:

Para usuarios logueados: carrito en base de datos (tabla carritos, modelo CarritoDB).

Para invitados: carrito en cookie.

✅ Se actualizó CarritoController para usar CarritoDB o Carrito según si el usuario está logueado.

✅ Se actualizó la vista Views/carrito/ver.php para funcionar correctamente tanto con datos de BD como desde cookie.

💳 Pedidos
✅ Se ajustó PedidoController@procesar para tomar el carrito desde la BD o la cookie según el tipo de usuario.

✅ Se corrigió el nombre de la tabla detalles_pedidos → detalles_pedido.

✅ Se creó getAllConDetalles() en Pedido.php para mostrar pedidos con sus productos.

🔒 Seguridad y sesiones
✅ Se añadió expiración por inactividad en Seguridad.php (10 minutos por defecto).

✅ Se corrigió la lógica de cierre de sesión con session_unset() y session_destroy().

👩‍💼 Panel de Administración
✅ Se completaron rutas y métodos para gestionar:

Productos

Usuarios

Pedidos (llamado también "compras")

✅ Se añadió desde header.php un enlace condicional "← Volver al Panel de Administración" visible solo para admins cuando están fuera del panel.

✅ Otros ajustes
✅ Se mejoró la vista del carrito para evitar errores con claves inexistentes (producto_id vs id).

✅ Se eliminó la tabla antigua carrito y se creó carritos con usuario_id, producto_id, cantidad.

✅ Se corrigieron errores como:

Uso incorrecto de variables ($_SESSION['carrito'][$id])

Doble botonera en el carrito

Rutas que daban error 404